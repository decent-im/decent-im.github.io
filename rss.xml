<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

    <title>decent.im</title>
    <link href="/"/>
    <description>The latest news from decent.im</description>
    
    
    <updated>9999-01-01T00:00:00></updated>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

  
  
  <entry>
    <title type="html"><![CDATA[Hello!]]></title>
    <link href="//posts/0/"/>
    <updated>9999-01-01T00:00:00</updated>
    <id>//posts/0/</id>
    <content type="html"><![CDATA[

<a href="https://tools.keycdn.com/geo?host=decent.im">
Server location: Germany
</a>
<br>

<a href='https://compliance.conversations.im/server/decent.im'>
    <img src='https://compliance.conversations.im/badge/decent.im'>
</a>
<br>

<!--
<a href='https://xmpp.net/result.php?domain=decent.im&type=server'>
    <img src='https://xmpp.net/badge.php?domain=decent.im' alt='xmpp.net score' />
</a>
<br>
-->

<p><strong>Here comes a decent XMPP server!</strong></p>

<p>Fed up with the carouselle of Proprietary Messaging Networks of the Day?
Try an open, federated network running and evolving since 1999, based on free and open source software and the protocol standartized by IETF!
Today, XMPP practically supports such long-desired features as video calls and convenient end to end encryption.</p>

<p>This page used to say: "stay in touch with your contacts using provided gateways to other IM networks!".
Nowadays, it's a violation of Terms of Service of proprietary networks to use non-official software.
So bridging is practically possible only to other open networks where owners respect your freedom.
Currently decent.im runs a gateway only for IRC.</p>

<p><a href="https://github.com/decent-im/">Server configs and code are public.</a></p>

<p><strong>===&gt; <a href="/register/">Request an account!</a> &lt;===</strong></p>

]]></content>
  </entry>
  
  
  
  <entry>
    <title type="html"><![CDATA[LLM chatbot]]></title>
    <link href="//posts/11/"/>
    <updated>2023-11-10T00:00:00</updated>
    <id>//posts/11/</id>
    <content type="html"><![CDATA[
<p>So LLM (Large Language Models) are the hotness of the day. Still not a reliable tool, but amusing at least, and time-saving at its best.
There is also an inspiring amount of stuff any curious individual can explore for free and without material obligations to corporations.</p>

<p><a href="https://hacks.mozilla.org/2023/11/introducing-llamafile/">Llamafile</a> project is yet another breakthrough in lowering the complexity bar for trying out <em>local</em> LLMs.
<a href="https://huggingface.co/jartine/llava-v1.5-7B-GGUF/resolve/main/llava-v1.5-7b-q4-server.llamafile">Download one file</a>, and run it on your computer of maybe even the phone.</p>

<p>I actually had to reach for lower level tool, <a href="https://github.com/ggerganov/llama.cpp">llama.cpp</a> as llamafile didn't work properly on the machine I wanted to run it on.
llama.cpp is still very approachable for a software tinkerer, and it is becoming easier to figure out how to download the precious "weights".</p>

<p>Some models can analyse details on pictures you upload (bot doesn't support that).
Some models can converse in all languages, not just English.
Impressive!
Imagine just a DVD or a few in your hands.
Before, it was enough to install Linux or play an expensive game.
Now it has, to some degree of fidelity, most of the information from the Internet.</p>

<p>So in the old tradition of exposing software tricks in the form of a chatbot, I cobbled together an XMPP bot which lets XMPP users to talk to LLM models.</p>

<p>Here is it: <a href="xmpp:llama@decent.im">llama@decent.im</a> (<a href="https://github.com/decent-im/llama-bot">Source code</a>)</p>

<p>Try it out!</p>

<p>I rotate the models and will mess with prompts and parameters, so check the bot status message for details.
Message exchanges are monitored.</p>

<p>Sometimes LLM says ridiculous things (false, made-up URLs, so many other things...), as is the common knowledge.
But sometimes they are pretty good (model <a href="https://huggingface.co/TheBloke/Amethyst-13B-Mistral-GGUF/resolve/main/amethyst-13b-mistral.Q5_K_M.gguf"><code>amethyst-13b-mistral.Q5_K_M</code></a>):</p>

<p><strong>User:</strong> Which country owns Crimea? <br />
<strong>Llama:</strong> Russia currently occupies and administers the Ukrainian peninsula of Crimea, but it remains internationally recognized as part of Ukraine. The annexation of Crimea by Russia in 2014 was widely condemned and considered illegal under international law.</p>

]]></content>
  </entry>
  
  
  
  <entry>
    <title type="html"><![CDATA[8 years]]></title>
    <link href="//posts/10/"/>
    <updated>2023-11-10T00:00:00</updated>
    <id>//posts/10/</id>
    <content type="html"><![CDATA[

<p>I started Decent.im 8 years ago.
With glee and audacity.</p>

<p>"Look honey, just like Skype, but on my server!"</p>

<p>I found no public server which synced and archived mesasges properly and I boasted about my "feat", even at the Operators chatroom.</p>

<p><img src="/static/images/domain-purchase.png" alt="Screenshot of domain purchase receipt" /></p>

<p><img src="/static/images/early-days-frontpage.png" alt="Screenshot of decent.im frontpage in early days" /></p>

<p>There was more joy down the road.</p>

<p>I used it all this time with my spouse, and still do.
<a href="https://conversations.im">Conversations</a> app was the key enabler for that.</p>

<p>I used gateways to IRC, Skype, Slack and Facebook to be widely connected but more conveniently.</p>

<p>My makeshift CCTV system was connected to an XMPP account for "online status" and notificaitons of detected motion.</p>

<p>I initially spun the server up on Ubuntu, but pretty soon I hit some annoying limitations so I switched to Gentoo.
For quite a long time, the server was running the bleeding edge of a lot of the core software, with weekly unattended updates.
Prosody <a href="https://decent.im/posts/5/">and stuff</a> were pulled straight from the trunk of the version control system.
The flavour of audacity is a form of compensation.</p>

<p>This worked exceptionally well for such an arrangement, which shows that the developers are very careful and the software stack is very stable.
I got into (2017) and out of (2022) the status of Gentoo Developer in the meantime, but Decent.im still runs on Gentoo Linux.</p>

<p>A few users have joined over time.
Those asking for two accounts, for themselves and their close relative, seem to be especially persistent in using it.
<a href="/register/">Give it a try the same way.</a></p>

<h2>Thanks</h2>

<p>This is a little thingy which was built and keeps living owing to the vast treasure of perfect gifts from a lot of people.</p>

<p>Particular thanks:</p>

<p><a href="https://prosody.im">Prosody</a> devs - MattJ, Zash and others, for support and for keeping this all evolving.</p>

<p>Daniel Gultsch for <a href="https://conversations.im">Conversations</a> which made XMPP cute and "just work" on Android.</p>

<p>fiaxh and larma for <a href="https://conversations.im">Dino</a> which made XMPP cute and "just work" on desktop.</p>

<p>Louiz for <a href="https://biboumi.louiz.org/">Biboumi</a> the IRC bridge, and for him adding support for PostgreSQL storage on my
request and funded by me.</p>

<p><a href="https://eion.robbmob.com/blog/">Eion Robb</a> for his <a href="https://github.com/EionRobb/skype4pidgin">Skype bridges</a>.</p>

<p><a href="https://bouah.net/">pep.</a> for organizing the <a href="https://wiki.xmpp.org/web/Sprints/2018_August_Cambridge">XMPP Sprint</a> where I met many XMPP developers (including some listed above) in person.</p>

<p>Jonas Schäfer for keeping my back with his <a href="https://observe.jabber.network/">free monitoring system</a>.</p>

<p><a href="https://packages.gentoo.org/maintainer/conikost@gentoo.org">Conrad Kostecki</a> for maintaining XMPP server packages in Gentoo Linux.</p>

]]></content>
  </entry>
  
  
  
  <entry>
    <title type="html"><![CDATA[Anti-spam developments]]></title>
    <link href="//posts/9/"/>
    <updated>2023-11-10T00:00:00</updated>
    <id>//posts/9/</id>
    <content type="html"><![CDATA[

<p>Prosody developer MattJ gave a talk this week on the topic of 
<a href="https://mov.im/node/pubsub.movim.eu/berlin-xmpp-meetup/mattj-talks-about-spam-abuse-and-moderation-7fJ5za">Spam, Abuse and Moderation</a>
discussing many aspects of keeping the users, servers and entire XMPP network safe.</p>

<p>Prompted by the talk, I <a href="https://github.com/decent-im/decent.im/commit/8db83f8c9c609f4d5fb4a3312962efb634702d4b">enabled the spam reporting modules</a>.</p>

]]></content>
  </entry>
  
  
  
  <entry>
    <title type="html"><![CDATA[Messengers performance]]></title>
    <link href="//posts/8/"/>
    <updated>2023-10-18T00:00:00</updated>
    <id>//posts/8/</id>
    <content type="html"><![CDATA[

<p>I have been measuring and comparing messaging apps for Android.
Now I have something to share.
I hope you enjoy reading this and it proves to be a useful knowledge for you.</p>

<p>This is a very limited study of resource usage by messaging apps on Android.
It needs more apps, devices and picky readers and reviewers.</p>

<h2>Conclusions</h2>

<p>Conversations (XMPP) seems best for battery life, traffic and RAM.</p>

<p>Facebook Messenger and Element (Matrix) are the worst from the studied apps, draining up to 300x more power than Conversations when battery optimization is disabled.</p>

<p>Element X (experimental Matrix app) is coming up with a more than 100x reduction in energy consumption (comparing to Element), drawing just 2x more power than Conversations.</p>

<p>A few more proprietary messengers have been measured and they fall in between the space between the above mentioned extremes. Little can be said about them besides that most of them continuously draw substantial amount of power and bandwidth even when not interacted with.</p>

<h2>Cool Pictures! I mean, serious data.</h2>

<p><strong>Explore this <a href="https://decentim.grafana.net/public-dashboards/92602d3a4aa842ce97812d310077691d">public Grafana dashboard</a>.</strong></p>

<h2>Misc</h2>

<p>I run an XMPP server, but I made this research to find out the facts, not to prove any beliefs or prop up attractiveness of any chat network.</p>

<p>You can:</p>

<ul>
<li><a href="https://github.com/decent-im/messengers-perf">Add your data</a></li>
<li><a href="https://nurture.decent.im/">Donate</a> (mention <code>messengers-perf</code> in the comment)</li>
<li><a href="mailto:messengers-perf@autkin.net">Ask, thank or tell me something</a></li>
</ul>

]]></content>
  </entry>
  
  
  
  <entry>
    <title type="html"><![CDATA[Data takeout and account portability]]></title>
    <link href="//posts/7/"/>
    <updated>2023-10-13T00:00:00</updated>
    <id>//posts/7/</id>
    <content type="html"><![CDATA[

<p>Besides boring maintenance, lately I've been working on "full user data takeout" tools.
Including all chats logs, and shared pictures and other files which were stored on the server.
It's a great possibility all around - you keep your data so you can take it to your own server or a different one, and the service disruptions would be a lesser concern.
For me, though, the main motivation is to be more confident about targeted data cleanups.
Currently the archives (messages and shared files) are stored indefinitely, because I am a sentimental person.
But I was asked by a user to limit the archives retention period for them.
Happy to oblige - less risk for their privacy, less data to store on the server for me.
But I wanted to give them the possibility to keep storing their data themselves indefinitely.</p>

<p>The new tool is called <a href="https://github.com/decent-im/decent.im/blob/master/files/sbin/decent.im_user_takeout_all"><code>decent.im_user_takeout_all</code></a>.
It takes username as a parameter, and produces a compressed archive named like <code>takeout.username.2023-10-13_09:16:02.tar.zst</code>.
It takes the chat logs and user's settings from the Postgres database, and stores them in SQLite database file, just like they were structured before, so it would be easy to restore it to a different server.</p>

<p>It also saves the user's uploads stored on the server, preserving the server's directory layout and timestamps.</p>

<h2>More tooling - XMPP Account Portability project</h2>

<p>Most of my tool was implemented within one intense day.
It works well and I think it's a nice improvement, but I am at unease with the resulting data format.
The data could be packaged in so much more broadly portable format!</p>

<p>In 2021-2022, in <a href="https://docs.modernxmpp.org/projects/portability/">XMPP Account Portability project</a>, developers Magnus Henoch, Waqas Hussain, Matthew Wild, Daniel Brötzmann (cal0pteryx), Kim Alvefur (Zash) and others have developed <a href="https://xmpp.org/extensions/xep-0227.html">the specification</a>, <a href="https://hg.prosody.im/trunk/file/tip/plugins/mod_storage_xep0227.lua">the server-side support</a>, and <a href="https://migrate.modernxmpp.org/">the tool</a> for users to take out their data from servers, and automatically migrate to another server.</p>

<p>The said tool is web-based, and it is now <a href="https://decent.im/xmpp-account-exporter/">deployed on decent.im</a>.</p>

<h2>Future development</h2>

<p>This tool doesn't export the chat history, although it can be made to do that.
I think it's important to make it do that (I <em>am</em> a sentimental person), so I want to work on that.</p>

<p>The uploads - pictures and such - are not in scope for the <a href="https://xmpp.org/extensions/xep-0227.html">portable import format spec</a>.
It feels valuable to be able to take these files with you, but some gotchas must be mentioned.
Once the files are uploaded to the XMPP server, the URLs are sent in messages in the conversations.
Since your friends stay where they are (or migrate on their own), their message archives hold the URLs pointing to your old server, where you're migrating from.
You can retain your copies, but if the old server stops serving these files, the links go broken.
It would even take some special processing to update <em>your</em> message archive to update the links.
And then, you "own" the files you've uploaded and shared, but then there are files which were shared with you by your buddies.
No list of such files exists on any server - it's just your message archive having these URLs, most of them in a special-kind stanzas which should be possible to match.
You should be able to copy these locally once you search across your message archive (you'd need to decrypt the encrypted ones for that, which would complicate the tooling needed).</p>

]]></content>
  </entry>
  
  
  
  <entry>
    <title type="html"><![CDATA[(No-op) Maintenance report for Apr-May 2018]]></title>
    <link href="//posts/6/"/>
    <updated>2018-05-13T00:00:00</updated>
    <id>//posts/6/</id>
    <content type="html"><![CDATA[

<p>No troubles, no new features/developments.
So this is really a no-op report.</p>

]]></content>
  </entry>
  
  
  
  <entry>
    <title type="html"><![CDATA[Maintenance report for January-March 2018]]></title>
    <link href="//posts/5/"/>
    <updated>2018-04-11T00:00:00</updated>
    <id>//posts/5/</id>
    <content type="html"><![CDATA[

<p>During this time, not much happened:</p>

<ul>
<li><p>staging server dev.decent.im shut down</p>

<p>It wasn't actively used by me for few months, but it costs the same as production host. I decided to stop this waste
of funds.</p>

<p>Of course now I need to be more cautious when applying changes to produciton, or at last I should not start testing
stuff on production server. I am thinking of making it more possible to replicate entire setup in a locla environment
not having all properties of real public server (e.g. public static IP). But this is yet to be resolved in future.</p></li>
<li><p>intermittently, unattended upgrade was broken because lua-expat upstream website was down:</p>

<p>lua-expat author has kindly brought up the site on my request. It was brought down manually to stop DoS attack which
was mounted against his website.</p></li>
</ul>

<pre>
->  http://code.matthewwild.co.uk/lua-expat/
--> hg identify --id --rev default http://code.matthewwild.co.uk/lua-expat/ --config trusted.users=portage
abort: HTTP Error 404: Not Found
!!! Error updating dev-lua/luaexpat:0: [Exception] update command returned non-zero result
...
* Updating /usr/portage/distfiles/hg-src/luaexpat/lua-expat from http://code.matthewwild.co.uk/lua-expat/
pulling from http://code.matthewwild.co.uk/lua-expat/
abort: HTTP Error 404: Not Found
</pre>

<ul>
<li>again, one more user joined decent.im :)</li>
</ul>

]]></content>
  </entry>
  
  
  
  <entry>
    <title type="html"><![CDATA[Maintenance report for December 2017]]></title>
    <link href="//posts/4/"/>
    <updated>2018-01-08T00:00:00</updated>
    <id>//posts/4/</id>
    <content type="html"><![CDATA[

<p>Happy new 2018 year!</p>

<p>During last month, this happened:</p>

<ul>
<li><p>spectrum build failure was resolved</p>

<p>To fix that, I submitted upstream a <a href="https://github.com/SpectrumIM/spectrum2/pull/252">pull request</a>
with a trivial patch, which was accepted (not without a bit of bikeshedding with upstream maintainer).</p></li>
<li><p>biboumi, the awesome IRC gateway, was integrated to production service</p>

<p>biboumi is a great software, featuring a bunch of nice capabilities, for example, message archive access for IRC rooms
user is attending. This means no more missed bits in IRC conversations!</p>

<p>biboumi previously could use only SQLite database, which was considered by me a major downside. Finally, with a help
of our very humble donation, the upstream maintainer recently added PostgreSQL support! Then, I have added it to
production server (as well as staging server dev.decent.im). Existing <code>irc.decent.im</code> component, previously served
by Spectrum &amp; libcommini based gateway, was replaced with biboumi, for convenience and clarity. (Previously I
considered putting it to horrific URI <code>biboumi.irc.decent.im</code>).</p></li>
<li><p>one more user joined decent.im :)</p>

<p>Our server is not boasting a huge user base, but I value every person who puts trust into decent.im!</p></li>
</ul>

]]></content>
  </entry>
  
  
  
  <entry>
    <title type="html"><![CDATA[Maintenance report]]></title>
    <link href="//posts/3/"/>
    <updated>2017-11-29T00:00:00</updated>
    <id>//posts/3/</id>
    <content type="html"><![CDATA[

<p>It's been a while since I've put any updates here. But all this time maintenance and development efforts never
completely stopped.
And this time I kinda am serious about starting to keep writing service status updates regularly. Promise :)</p>

<p>Quite important recent change is switching from hardened-sources to gentoo-sources as the former is now unsupported
since grsecurity no longer publishes updates.</p>

<p>Also the make.profile was changed from modified "hardened" profile to bleeding edge default/linux/amd64/17.0/no-multilib
(again with a mixed in decent.im profile feature). This is to enable new compiler gcc-6.4.0 which is required to build
net-im/spectrum since recently.</p>

<p>Last cycle of weekly automated system update failed at building net-im/spectrum-9999:</p>

<pre>
In file included from /usr/include/qt4/QtCore/qobject.h:47:0,
                 from /usr/include/qt4/QtCore/qabstracteventdispatcher.h:45,
                 from /usr/include/qt4/QtCore/QtCore:3,
                 from /var/tmp/portage/net-im/spectrum-9999/work/spectrum-9999/backends/libcommuni/main.cpp:20:
/usr/include/boost/signals/detail/signals_common.hpp:26:13: error: expected identifier before 'protected'
   namespace BOOST_SIGNALS_NAMESPACE {
             ^
/usr/include/boost/signals/detail/signals_common.hpp:26:13: error: expected unqualified-id before 'protected'
In file included from /usr/include/boost/scoped_ptr.hpp:14:0,
                 from /usr/include/boost/smart_ptr.hpp:19,
                 from /usr/include/boost/signals/connection.hpp:14,
                 from /usr/include/boost/signals/signal_template.hpp:18,
                 from /usr/include/boost/signals/signal0.hpp:24,
                 from /usr/include/boost/signal.hpp:27,
                 from /usr/include/boost/signals.hpp:9,
                 from /var/tmp/portage/net-im/spectrum-9999/work/spectrum-9999/include/Swiften/SwiftenCompat.h:50,
                 from /var/tmp/portage/net-im/spectrum-9999/work/spectrum-9999/include/transport/Config.h:29,
                 from /var/tmp/portage/net-im/spectrum-9999/work/spectrum-9999/backends/libcommuni/main.cpp:22:
/usr/include/boost/smart_ptr/scoped_ptr.hpp:26:28: error: expected '}' before end of line
 #pragma GCC diagnostic push
                            ^
/usr/include/boost/smart_ptr/scoped_ptr.hpp:26:28: error: expected declaration before end of line
make[2]: *** [backends/libcommuni/CMakeFiles/spectrum2_libcommuni_backend.dir/build.make:102: backends/libcommuni/CMakeFiles/spectrum2_libcommuni_backend.dir/main.cpp.o] Error 1
make[2]: Leaving directory '/var/tmp/portage/net-im/spectrum-9999/work/spectrum-9999'
make[1]: *** [CMakeFiles/Makefile2:646: backends/libcommuni/CMakeFiles/spectrum2_libcommuni_backend.dir/all] Error 2
make[1]: Leaving directory '/var/tmp/portage/net-im/spectrum-9999/work/spectrum-9999'
make: *** [Makefile:152: all] Error 2
 * ERROR: net-im/spectrum-9999::mva failed (compile phase):
 *   emake failed

</pre>

<p>Interestingly, this failure doesn't occur if we use net-im/swiften-9999 (currently we have 3.0 installed on production
server). This will be further investigated.</p>

<p>Another nice pre-announcement is that, with help of our donation, the innovative IRC gateway implementation Biboumi is
getting PostgreSQL support, which will enable us to have it on production system with no extra maintenance effort.
Currently Biboumi supports only SQLite, which is a bit questionable in my opinion, especially with regard to taking
backups of it while having service working.</p>

]]></content>
  </entry>
  
  
  
  <entry>
    <title type="html"><![CDATA[Videocalls status update]]></title>
    <link href="//posts/2/"/>
    <updated>2016-01-26T00:00:00</updated>
    <id>//posts/2/</id>
    <content type="html"><![CDATA[

<p>Have deployed a couple of webapps for Jabber chatting and calling.</p>

<ul>
<li><a href="https://decent.im/jappix">Jappix</a></li>
<li><a href="https://decent.im/jsxc/example">JSXC</a></li>
</ul>

<p>Both are not perfect, but still it's something. I hope things will get better in future.</p>

<p>Also <a href="https://legastero.github.io/jingle-interop-demos/stanzaio/">this simple test webpage</a> is quite good for testing Jabber calls capability. Just be sure to enter full JID (with resource part) into participant JID input. The full JID of the connection made by this page shows up on the page itself. WebSocket URL is <code>wss://decent.im:5281/xmpp-websocket</code></p>

<p>For your information, I am working on implementing Jingle calls in Conversations, please join to <a href="https://www.bountysource.com/issues/18153806-support-audio-video-calls-encryption/backers">Bountysource campaign</a>.</p>

<p>Also I am thinking about adding support of videocalls into <code>mcabber</code> using ffmpeg. Please drop me a line if you want this, or if you want to help.</p>

]]></content>
  </entry>
  
  
  
  <entry>
    <title type="html"><![CDATA[Videocalls state]]></title>
    <link href="//posts/1/"/>
    <updated>2016-01-15T00:00:00</updated>
    <id>//posts/1/</id>
    <content type="html"><![CDATA[
  <p>TLDR: commonly not accessible XMPP feature. Badly maintained or just absent in client implementations.</p>

<p>Tried to make calls with Jitsi, Gajim, Pidgin, webapps Jappix and JSXC - nothing worked in this domain setup.</p>

<p>But I am obsessed with an idea to bring this feature to decent.im users. Decent.im is supposed to be ass-kicking!</p>

<p>For your information, I am working on implementing Jingle calls in Conversations, please join to <a href="https://www.bountysource.com/issues/18153806-support-audio-video-calls-encryption/backers">Bountysource campaign</a> to appreciate me (and/or competitors).</p>

<p>Still cannot get Jappix or JSXC webapps to work with calls on this server, despite my numerous attempts.</p>

<p>But a kind person Philipp Hancke from operators@xmpp.org ML pointed to <a href="https://legastero.github.io/jingle-interop-demos/stanzaio/">this brilliant test page</a>, which just works without any issue! This testing page is by far the most accessible and convenient way to make calls with Jabber! :) Also works the same good way in both Chrome and Firefox, which feels exceptional.</p>

<p>In other words, you can go on and make your calls using that test page! Just be sure to enter full JID (with resource part) into participant JID input. The full JID of the connection made by this page shows up on the page itself. WebSocket URL is wss://decent.im:5281/xmpp-websocket</p>

]]></content>
  </entry>
  
  
</feed>